# 快手常见代码题

## 求不重叠的两个数组的最大和

### 题目描述

给定一个list，求不重叠的两个数组的最大和，要求遍历一次数组，时间复杂度On，空间复杂度O1，不能用前缀和。
例如：[1,2,-3,4,5],最大的两个数组和就是[1,2]+[4,5]=12,[1,1,-4,4,1,-2,3,-9,4,5]就是[4,1,-2,3]和[4,5]。

### 解决方案

维护三个dp数组：

- dp0：以i为结尾的最大数组和
- dp1：出现过的最大的一个数组和
- dp2：以i为结尾的最大两个子数组和

dp2的递推公式是`dp2[i] = max(dp1+nums[i], dp2+nums[i])`，因为dp2只有两种可能，第二个数组包含前面的内容以及第二个数组只包含nums[i]。

### 代码

```python
nums = [1,1,-4,4,1,-2,3,-9,4,5]

res = float('-inf')

# dp0: 以i为结尾的最大数组和
dp0 = nums[0]
# dp1: 出现过的最大的一个数组和
dp1 = nums[0]
# dp2: 以i为结尾的最大两个子数组和
dp2 = float('-inf')

for i in range(1, len(nums)):
    dp0 = max(dp0+nums[i], nums[i])
    dp1 = max(dp1, dp0)
    # dp2为什么这么更新？ 因为两个子数组和只有两种情况：第二个子数组只有nums[i]，第二个子数组不只有nums[i]
    dp2 = max(dp1+nums[i], dp2+nums[i])
    res = max(res, dp2)

print(res)
```